# ===========================================
# Nestra - Environment Configuration Template
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# ------------------------------------------
# DATABASE (REQUIRED)
# ------------------------------------------
DATABASE_URL=postgresql://nestra:your-secure-db-password@localhost:5432/nestra

# Docker Compose PostgreSQL settings
POSTGRES_USER=nestra
POSTGRES_PASSWORD=your-secure-db-password
POSTGRES_DB=nestra

# ------------------------------------------
# JWT AUTHENTICATION (REQUIRED)
# ------------------------------------------
# Generate a secure secret: openssl rand -base64 32
JWT_SECRET=your-secure-jwt-secret-min-32-characters
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# ------------------------------------------
# RABBITMQ (Optional)
# ------------------------------------------
USE_RABBITMQ=false
RABBITMQ_URL=amqp://admin:your-rabbitmq-password@localhost:5672
RABBITMQ_USER=admin
RABBITMQ_PASS=your-rabbitmq-password

# ------------------------------------------
# SERVER
# ------------------------------------------
PORT=3000
NODE_ENV=development
HOST=0.0.0.0
API_PREFIX=/api
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ------------------------------------------
# WORKER POOL (Piscina)
# ------------------------------------------
PISCINA_MIN_THREADS=4
PISCINA_MAX_THREADS=12
PISCINA_IDLE_TIMEOUT=60000
PISCINA_MAX_QUEUE=256

# ------------------------------------------
# RATE LIMITING
# ------------------------------------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_MAX=10
RATE_LIMIT_OPTIMIZATION_MAX=20

# ------------------------------------------
# FEATURE FLAGS
# ------------------------------------------
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY_HEADERS=true
