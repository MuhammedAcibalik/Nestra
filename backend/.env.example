# Environment
NODE_ENV=development
PORT=3000

# Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/nestra?schema=public"

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# File Upload
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# Redis Cache (optional - falls back to in-memory)
REDIS_URL=redis://localhost:6379
# Or configure individually:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
USE_REDIS=true

# Sentry Error Tracking (optional)
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_DEBUG=false

# RabbitMQ (optional)
USE_RABBITMQ=false
RABBITMQ_URL=amqp://localhost:5672

# BullMQ Job Queue (optional - uses Redis)
USE_JOB_QUEUE=false

# OpenTelemetry Tracing (optional)
USE_TRACING=false
OTEL_SERVICE_NAME=nestra-backend
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces

# ==================== ADVANCED FEATURES ====================

# Rate Limiting (uses existing REDIS_URL)
# Uses Redis for distributed rate limiting with in-memory fallback
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Audit Trail
# Retention period in days (365 = 1 year, regulatory compliance)
AUDIT_RETENTION_DAYS=365
AUDIT_ENABLED=true

# Notification System - Email via Nodemailer SMTP
# SMTP is chosen for: self-hosted control, no vendor lock-in, cost efficiency
# Can switch to SendGrid/SES by changing provider type
EMAIL_PROVIDER=smtp
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@nestra.app
EMAIL_FROM_NAME=Nestra

# Alternative: SendGrid (uncomment to use)
# EMAIL_PROVIDER=sendgrid
# SENDGRID_API_KEY=

# Alternative: AWS SES (uncomment to use)
# EMAIL_PROVIDER=ses
# AWS_REGION=eu-west-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# API Versioning
# Current stable version, latest development version
API_DEFAULT_VERSION=1
API_CURRENT_VERSION=1
API_LATEST_VERSION=2
API_DEPRECATION_ENABLED=true
